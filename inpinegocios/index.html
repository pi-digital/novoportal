<style>
@import "https://fonts.googleapis.com/css?family=Montserrat";
@font-face {
  font-family: Narziss;
  src: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/42764/Narziss_Bold_Drops.woff2);
}
@font-face {
  font-family: Narziss-medium;
  src: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/42764/Narziss_Bold_Drops.woff2);
}
  
#chartdiv {
  width: 100%;
  height: 500px;
  font-family: 'Montserrat', sans-serif;
  font-size: 10px;
}

</style>

<!-- Resources -->
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/maps.js"></script>
<script src="https://www.amcharts.com/lib/4/geodata/worldLow.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

<!-- Chart code -->
<script>
am4core.ready(function() {

// Themes begin
am4core.useTheme(am4themes_animated);
// Themes end

// Define marker path
var targetSVG = "M9,0C4.029,0,0,4.029,0,9s4.029,9,9,9s9-4.029,9-9S13.971,0,9,0z M9,15.93 c-3.83,0-6.93-3.1-6.93-6.93S5.17,2.07,9,2.07s6.93,3.1,6.93,6.93S12.83,15.93,9,15.93 M12.5,9c0,1.933-1.567,3.5-3.5,3.5S5.5,10.933,5.5,9S7.067,5.5,9,5.5 S12.5,7.067,12.5,9z";

// Create map instance
var chart = am4core.create("chartdiv", am4maps.MapChart);
var interfaceColors = new am4core.InterfaceColorSet();

// Set map definition
chart.geodata = am4geodata_worldLow;

// Set projection
chart.projection = new am4maps.projections.Mercator();

// Add zoom control
chart.zoomControl = new am4maps.ZoomControl();

// Set initial zoom
chart.homeZoomLevel = 5.5;
chart.homeGeoPoint = {
  latitude: -22.9110137,
  longitude: -43.2093727
};

// Create map polygon series
var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());
polygonSeries.exclude = ["AQ"];
polygonSeries.useGeodata = true;
polygonSeries.mapPolygons.template.nonScalingStroke = true;

// Add images
var imageSeries = chart.series.push(new am4maps.MapImageSeries());
var imageTemplate = imageSeries.mapImages.template;
imageTemplate.tooltipText = "{title}";
imageTemplate.nonScaling = true;

var marker = imageTemplate.createChild(am4core.Sprite);
marker.path = targetSVG;
marker.horizontalCenter = "middle";
marker.verticalCenter = "middle";
marker.scale = 0.7;
marker.fill = interfaceColors.getFor("alternativeBackground");

imageTemplate.propertyFields.latitude = "latitude";
imageTemplate.propertyFields.longitude = "longitude";
imageSeries.data = [ {
  "id": "Rio de Janeiro",
  "svgPath": targetSVG,
  "title": "Sede, INPI (Rio de Janeiro, RJ)",
  "latitude": -22.9110137,
  "longitude": -43.2093727,
  "scale": 2
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (São Paulo, SP)",
  "latitude": -23.5506507,
  "longitude": -46.6333824,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Brasília, DF)",
  "latitude": -15.7934036,
  "longitude": -47.8823172,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Goiânia, GO)",
  "latitude": -16.680882,
  "longitude": -49.2532691,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Recife, PE)",
  "latitude": -8.04255435,
  "longitude": -34.92770629,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Fortaleza, CE)",
  "latitude": -3.7304512,
  "longitude": -38.5217989,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (João Pessoa, PB)",
  "latitude": -7.15181265,
  "longitude": -34.85239128,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Aracaju, SE)",
  "latitude": -11.01868955,
  "longitude": -37.0944378,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Belo Horizonte, MG)",
  "latitude": -19.9227318,
  "longitude": -43.9450948,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Vitória, ES)",
  "latitude": -20.2872412,
  "longitude": -40.32680602,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Porto Alegre, RS)",
  "latitude": -30.10091665,
  "longitude": -51.18878819,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Curitiba, PR)",
  "latitude": -25.4295963,
  "longitude": -49.2712724,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Regional, INPI (Florianópolis, SC)",
  "latitude": -27.5973002,
  "longitude": -48.5496098,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Assunção, PY",
  "latitude": -25.2800459,
  "longitude": -57.6343814,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Montevidéu, UY",
  "latitude": -34.9059039,
  "longitude": -56.1913569,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Buenos Aires, AR",
  "latitude": -34.6075682,
  "longitude": -58.4370894,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "La Paz, BO",
  "latitude": -16.4955455,
  "longitude": -68.1336229,
  "scale": 0.5
}, {
  "svgPath": targetSVG,
  "title": "Organização Regional Africana de Propriedade Intelectual (ARIPO)",
  "latitude": 40.43,
  "longitude": -74,
  "scale": 0.5
} ];

// Add lines
var lineSeries = chart.series.push(new am4maps.MapLineSeries());
lineSeries.dataFields.multiGeoLine = "multiGeoLine";

var lineTemplate = lineSeries.mapLines.template;
lineTemplate.nonScalingStroke = true;
lineTemplate.arrow.nonScaling = true;
lineTemplate.arrow.width = 4;
lineTemplate.arrow.height = 6;
lineTemplate.stroke = interfaceColors.getFor("alternativeBackground");
lineTemplate.fill = interfaceColors.getFor("alternativeBackground");
lineTemplate.line.strokeOpacity = 0.4;

lineSeries.data = [{
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 50.4422, "longitude": 30.5367 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 40.4300, "longitude": -74.0000 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 64.1353, "longitude": -21.8952 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 37.9792, "longitude": 23.7166 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 38.7072, "longitude": -9.1355 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 55.7558, "longitude": 37.6176 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 44.8048, "longitude": 20.4781 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 48.2116, "longitude": 17.1547 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 46.0514, "longitude": 14.5060 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 40.4167, "longitude": -3.7033 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 59.3328, "longitude": 18.0645 }
    ]
  ]
}, {
  "multiGeoLine": [
    [
      { "latitude": -22.9110137, "longitude": -43.2093727 },
      { "latitude": 46.9480, "longitude": 7.4481 }
    ]
  ]
}];

}); // end am4core.ready()
</script>

<!-- HTML -->
<div id="chartdiv"></div>
