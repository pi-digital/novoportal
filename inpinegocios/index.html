<style>
@import "https://fonts.googleapis.com/css?family=Montserrat";
@font-face {
  font-family: Narziss;
  src: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/42764/Narziss_Bold_Drops.woff2);
}
@font-face {
  font-family: Narziss-medium;
  src: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/42764/Narziss_Bold_Drops.woff2);
}
  
#chartdiv {
  width: 100%;
  height: 500px;
  font-family: 'Montserrat', sans-serif;
  font-size: 10px;
}

</style>

<!-- Resources -->
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/maps.js"></script>
<script src="https://www.amcharts.com/lib/4/geodata/worldLow.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

<!-- Chart code -->
<script>
am4core.ready(function() {

// Themes begin
am4core.useTheme(am4themes_animated);
// Themes end

// Create map instance
var chart = am4core.create("chartdiv", am4maps.MapChart);

// Set map definition
chart.geodata = am4geodata_worldLow;

// Set projection
chart.projection = new am4maps.projections.Miller();

// Add zoom control
chart.zoomControl = new am4maps.ZoomControl();

// Set initial zoom
chart.homeZoomLevel = 5.5;
chart.homeGeoPoint = {
  latitude: -22.9110137,
  longitude: -43.2093727
};

// Create map polygon series
var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());

// Exclude Antartica
polygonSeries.exclude = ["AQ"];

// Make map load polygon (like country names) data from GeoJSON
polygonSeries.useGeodata = true;

// Configure series
var polygonTemplate = polygonSeries.mapPolygons.template;
polygonTemplate.tooltipText = "{name}";
polygonTemplate.polygon.fillOpacity = 0.6;


// Create hover state and set alternative fill color
var hs = polygonTemplate.states.create("hover");
hs.properties.fill = chart.colors.getIndex(0);

// Add image series
var imageSeries = chart.series.push(new am4maps.MapImageSeries());
imageSeries.mapImages.template.propertyFields.longitude = "longitude";
imageSeries.mapImages.template.propertyFields.latitude = "latitude";
imageSeries.mapImages.template.tooltipText = "{title}";
imageSeries.mapImages.template.propertyFields.url = "url";

var circle = imageSeries.mapImages.template.createChild(am4core.Circle);
circle.radius = 3;
circle.propertyFields.fill = "color";

var circle2 = imageSeries.mapImages.template.createChild(am4core.Circle);
circle2.radius = 3;
circle2.propertyFields.fill = "color";


circle2.events.on("inited", function(event){
  animateBullet(event.target);
})


function animateBullet(circle) {
    var animation = circle.animate([{ property: "scale", from: 1, to: 5 }, { property: "opacity", from: 1, to: 0 }], 1000, am4core.ease.circleOut);
    animation.events.on("animationended", function(event){
      animateBullet(event.target.object);
    })
}

var colorSet = new am4core.ColorSet();

imageSeries.data = [ {
  "title": "Sede, INPI (Rio de Janeiro, RJ)",
  "latitude": -22.9110137,
  "longitude": -43.2093727,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (São Paulo, SP)",
  "latitude": -23.5506507,
  "longitude": -46.6333824,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Brasília, DF)",
  "latitude": -15.7934036,
  "longitude": -47.8823172,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Goiânia, GO)",
  "latitude": -16.680882,
  "longitude": -49.2532691,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Recife, PE)",
  "latitude": -8.04255435,
  "longitude": -34.92770629,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Fortaleza, CE)",
  "latitude": -3.7304512,
  "longitude": -38.5217989,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (João Pessoa, PB)",
  "latitude": -7.15181265,
  "longitude": -34.85239128,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Aracaju, SE)",
  "latitude": -11.01868955,
  "longitude": -37.0944378,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Belo Horizonte, MG)",
  "latitude": -19.9227318,
  "longitude": -43.9450948,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Vitória, ES)",
  "latitude": -20.2872412,
  "longitude": -40.32680602,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Porto Alegre, RS)",
  "latitude": -30.10091665,
  "longitude": -51.18878819,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Curitiba, PR)",
  "latitude": -25.4295963,
  "longitude": -49.2712724,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "Regional, INPI (Florianópolis, SC)",
  "latitude": -27.5973002,
  "longitude": -48.5496098,
  "url": "http://www.inpi.gov.br/",
  "color":colorSet.next()
}, {
  "title": "DINAPI (Assunção, PY)",
  "latitude": -25.2800459,
  "longitude": -57.6343814,
  "url": "https://www.dinapi.gov.py/",
  "color":colorSet.next()
}, {
  "title": "DNPI (Montevidéu, UY)",
  "latitude": -34.9059039,
  "longitude": -56.1913569,
  "url": "https://www.miem.gub.uy/marcas-y-patentes",
  "color":colorSet.next()
}, {
  "title": "INPI (Buenos Aires, AR)",
  "latitude": -34.6075682,
  "longitude": -58.4370894,
  "url": "https://www.argentina.gob.ar/inpi",
  "color":colorSet.next()
}, {
  "title": "SENAPI (La Paz, BO)",
  "latitude": -16.4955455,
  "longitude": -68.1336229,
  "url": "https://www.senapi.gob.bo/",
  "color":colorSet.next()
}, {
  "title": "INAPI (Santiago, CL)",
  "latitude": -33.4377968,
  "longitude": -70.6504451,
  "url": "https://inapi.cl/",
  "color":colorSet.next()
}, {
  "title": "INPI (Paris, FR)",
  "latitude": 48.8588897,
  "longitude": 2.32004103,
  "url": "https://www.inpi.fr/",
  "color":colorSet.next()
}, {
  "title": "UKIPO (Londres, GB)",
  "latitude": 51.5073219,
  "longitude": -0.1276474,
  "url": "https://www.gov.uk/government/organisations/intellectual-property-office",
  "color":colorSet.next()
}, {
  "title": "JPO (Tóquio, JP)",
  "latitude": 35.6828387,
  "longitude": 139.7594549,
  "url": "https://www.jpo.go.jp/e/",
  "color":colorSet.next()
}, {
  "title": "CNIPA (Beijing, CN)",
  "latitude": 39.906217,
  "longitude": 116.3912757,
  "url": "http://english.sipo.gov.cn/",
  "color":colorSet.next()
}, {
  "title": "ROSPATENT (Moscou, RU)",
  "latitude": 55.7504461,
  "longitude": 37.6174943,
  "url": "https://rupto.ru/en",
  "color":colorSet.next()
}, {
  "title": "DKPTO (Copenhage, DK)",
  "latitude": 55.6867243,
  "longitude": 12.5700724,
  "url": "https://www.dkpto.org/",
  "color":colorSet.next()
}, {
  "title": "INDECOPI (Lima, PE)",
  "latitude": -12.0621065,
  "longitude": -77.0365256,
  "url": "https://indecopi.gob.pe/",
  "color":colorSet.next()
}, {
  "title": "SENADI (Quito, EC)",
  "latitude": -0.2201641,
  "longitude": -78.5123274,
  "url": "https://www.derechosintelectuales.gob.ec/",
  "color":colorSet.next()
}, {
  "title": "IPOS (Singapura, SG)",
  "latitude": 1.340863,
  "longitude": 103.83039182,
  "url": "https://www.ipos.gov.sg/",
  "color":colorSet.next()
}, {
  "title": "KIPO (Santiago, CL)",
  "latitude": 37.5666791,
  "longitude": 126.9782914,
  "url": "https://www.kipo.go.kr/en/",
  "color":colorSet.next()
} ];



}); // end am4core.ready()
</script>

<!-- HTML -->
<div id="chartdiv"></div>
